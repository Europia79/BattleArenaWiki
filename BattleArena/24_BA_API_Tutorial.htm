<!DOCTYPE html><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<base href="http://wiki.battleplugins.com/w/index.php/BA_API_Tutorial"><div style="background:#fff;border:1px solid #999;margin:-1px -1px 0;padding:0;"><div style="background:#ddd;border:1px solid #999;color:#000;font:13px arial,sans-serif;font-weight:normal;margin:12px;padding:8px;text-align:left">This is Google&#39;s cache of <a href="http://wiki.battleplugins.com/w/index.php/BA_API_Tutorial" style="text-decoration:underline;color:#00c">http://wiki.battleplugins.com/w/index.php/BA_API_Tutorial</a>. It is a snapshot of the page as it appeared on Sep 12, 2014 02:57:43 GMT. The <a href="http://wiki.battleplugins.com/w/index.php/BA_API_Tutorial" style="text-decoration:underline;color:#00c">current page</a> could have changed in the meantime. <a href="http://support.google.com/websearch/bin/answer.py?hl=en&amp;p=cached&amp;answer=1687222" style="text-decoration:underline;color:#00c">Learn more</a><br>Tip: To quickly find your search term on this page, press <b>Ctrl+F</b> or <b>⌘-F</b> (Mac) and use the find bar.<br><br><div style="float:right"><a href="http://webcache.googleusercontent.com/search?q=cache:http://wiki.battleplugins.com/w/index.php/BA_API_Tutorial&strip=1" style="text-decoration:underline;color:#00c">Text-only version</a></div>
<div>&nbsp;</div></div></div><div style="position:relative">
<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8" /><title>BA API Tutorial - Battleplugins WIki</title>
<meta name="generator" content="MediaWiki 1.22.6" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Battleplugins WIki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://wiki.battleplugins.com/w/api.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="Battleplugins WIki Atom feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="http://wiki.battleplugins.com/w/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cskins.vector&amp;only=styles&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<style>a:lang(ar),a:lang(ckb),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: mw-mw_:resourceloader:filter:minify-css:7:c48c6031a79ebb8fd103dc98d1fcce83 */</style>

<script src="http://wiki.battleplugins.com/w/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"BA_API_Tutorial","wgTitle":"BA API Tutorial","wgCurRevisionId":583,"wgRevisionId":583,"wgArticleId":52,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"BA_API_Tutorial","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":false,"dialogs":false,"hidesig":true,"templateEditor":false,"templates":false,"preview":false,"previewDialog":false,"publish":false,"toc":false}});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function(){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"vector-simplesearch":1,"watchcreations":0,"watchdefault":0,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,
"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"useeditwarning":1,"prefershttps":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function(){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: mw-mw_:resourceloader:filter:minify-js:7:5a69c7e0fa6557851b6dea8a62efaffb */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","skins.vector.js"]);
}</script>
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/w/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-BA_API_Tutorial skin-vector action-view vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">BA API Tutorial</span></h1>
			<div id="bodyContent">
								<div id="siteSub">From Battleplugins WIki</div>
								<div id="contentSub"></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-navigation">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Details"><span class="tocnumber">2</span> <span class="toctext">Details</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Creating_your_plugin.yml"><span class="tocnumber">2.1</span> <span class="toctext">Creating your plugin.yml</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="#Example"><span class="tocnumber">2.1.1</span> <span class="toctext">Example</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-5"><a href="#Registering_your_plugin_with_BattleArena"><span class="tocnumber">2.2</span> <span class="toctext">Registering your plugin with BattleArena</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="#Example:_Registering_your_new_competition"><span class="tocnumber">2.2.1</span> <span class="toctext">Example: Registering your new competition</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-7"><a href="#Creating_an_Arena_class"><span class="tocnumber">2.3</span> <span class="toctext">Creating an Arena class</span></a>
<ul>
<li class="toclevel-3 tocsection-8"><a href="#Example_Arena_1"><span class="tocnumber">2.3.1</span> <span class="toctext">Example Arena 1</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#Example_Arena_2"><span class="tocnumber">2.3.2</span> <span class="toctext">Example Arena 2</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-10"><a href="#Creating_your_Config.yml"><span class="tocnumber">2.4</span> <span class="toctext">Creating your Config.yml</span></a>
<ul>
<li class="toclevel-3 tocsection-11"><a href="#Example_Config.yml"><span class="tocnumber">2.4.1</span> <span class="toctext">Example Config.yml</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="Overview">Overview</span></h1>
<p>Here are the steps you will need to take to create your own plugin.
</p>
<ol>
<li> in your plugin.yml, you must depend on BattleArena.
</li>
<li> register your plugin with BattleArena inside of onEnable
</li>
<li> Create a Class that extends Arena
</li>
<li> Create your default Config.yml file
</li>
</ol>
<p>After that everything else is optional. For an easy plugin that shows how to make custom events and matches check out the Paintball code.  [<a rel="nofollow" class="external text" href="https://github.com/alkarinv/ArenaPaintball">| ArenaPaintball</a>].
</p>
<h1><span class="mw-headline" id="Details">Details</span></h1>
<h2><span class="mw-headline" id="Creating_your_plugin.yml">Creating your plugin.yml</span></h2>
<p>The most important part here is the depend: [BattleArena].  This is not "depends" depends will not work.
</p>
<h3><span class="mw-headline" id="Example">Example</span></h3>
<pre>
name: SuperCrushers

version: 1.0
author: alkarin

description: A sweet crush the blocks plugin!
depend: [BattleArena]  ### &lt;--- the important line
main: mc.alk.crush.SuperCrushers
</pre>
<p><br />
</p>
<h2><span class="mw-headline" id="Registering_your_plugin_with_BattleArena">Registering your plugin with BattleArena</span></h2>
<p>Registering takes the following
</p>
<ol>
<li> your plugin
</li>
<li> The name of your competition
</li>
<li> The command for your competition
</li>
<li> Your arena class (which extends Arena)
</li>
<li> (optional) an executor for handling commands
</li>
</ol>
<h3><span class="mw-headline" id="Example:_Registering_your_new_competition">Example: Registering your new competition</span></h3>
<pre>
@Override
	public void onEnable(){
		/// Register our SuperCrushers plugin, the command will be &quot;sc&quot;
		BattleArena.registerCompetition(this, &quot;SuperCrushers&quot;, &quot;sc&quot;, SuperCrusherArena.class);
	}
</pre>
<h2><span class="mw-headline" id="Creating_an_Arena_class">Creating an Arena class</span></h2>
<p>Create a class that extends Arena. An arena class will get created once during server start up, and will get destroyed and recreated if someone uses the /arena alter, command.
</p>
<h3><span class="mw-headline" id="Example_Arena_1">Example Arena 1</span></h3>
<p>This will actually work.  It just does nothing custom, usually we want to listen for some sort of events and change them.
</p>
<pre>
public class SuperCrusherArena extends Arena{
}
</pre>
<h3><span class="mw-headline" id="Example_Arena_2">Example Arena 2</span></h3>
<p>This time we are registering the EntityDamageEvent and changing the damage of snow balls, this is what ArenaPaintball does.  Notice the @MatchEventHandler, this will make sure that this event will ONLY be called when it is performed by someone inside of the Current competition.
</p>
<pre>
public class SuperCrusherArena extends Arena{
	@MatchEventHandler
	public void onEntityDamage(EntityDamageByEntityEvent event) {
		if (event.isCancelled())
			return;
		if (event.getDamager().getType()&#160;!= EntityType.SNOWBALL)
			return;
		event.setDamage(20);
	}
}
</pre>
<h2><span class="mw-headline" id="Creating_your_Config.yml">Creating your Config.yml</span></h2>
<p>This is probably the most important part. To make a config file for your plugin it must be named the same thing as what you registered... so if you registered "SuperCrusher" then your config file should be called "SuperCrusherConfig.yml" and should be located in the same place as your plugin.yml.  Inside there should be the options you want to be default when people load your plugin.
</p>
<h3><span class="mw-headline" id="Example_Config.yml">Example Config.yml</span></h3>
<p>Here is an example config to get you started
</p>
<pre>
configVersion: 2.0
## This should be placed in the plugin directory
## for more help configuring see the wiki
## https://github.com/alkarinv/BattleArena/wiki
## Change this file to customize your event

SuperCrusher:  ### This should be exactly the same as the name you registered
    enabled: true
    database: SuperCrusher # needs BattleTracker
    rated: true # if database is enabled
    prefix: &quot;&amp;6[SuperCrusher]&amp;e&quot;
    cmd: sc
    nTeams: 2+
    teamSize: 1
    joinType: Queue ## there are 2 join types, Queue and JoinPhase
    victoryCondition: LastManStanding
    ### You can delete any stages/transitions that have no options
    ### for a list of options see wiki
    preReqs: ## Prerequisites for joining
        options: []
    onEnter:
        options: [storeAll]
    onLeave:
        options: [restoreAll]
    onJoin:  ## when they join the match
        options: []
    onPreStart: ## x seconds before onStart
        options: []
    onStart: ## Starting
        options: [teleportIn, pvpOn]
    onSpawn: ## what happens when a player spawns
        options: [hunger=20, health=20]
        giveClass: 
            default: Gladiator
    onDeath: ## what happens when a player dies
        options: []
    onComplete: ## what happens when things end
        options: [teleportOut, clearInventory]
    winner: ## what to give the winner
        options: [health=20, hunger=20]
    losers: ## what to give the losers
        options: []
</pre>

<!-- 
NewPP limit report
CPU time usage: 0.009 seconds
Real time usage: 0.009 seconds
Preprocessor visited node count: 82/1000000
Preprocessor generated node count: 148/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key mw-mw_:pcache:idhash:52-0!*!*!!en!*!* and timestamp 20140820174824
 -->
</div>								<div class="printfooter">
				Retrieved from "<a href="http://wiki.battleplugins.com/w/index.php?title=BA_API_Tutorial&amp;oldid=583">http://wiki.battleplugins.com/w/index.php?title=BA_API_Tutorial&amp;oldid=583</a>"				</div>
												<div id='catlinks' class='catlinks catlinks-allhidden'></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
				<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
	<h3 id="p-personal-label">Personal tools</h3>
	<ul>
<li id="pt-login"><a href="/w/index.php?title=Special:UserLogin&amp;returnto=BA+API+Tutorial" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>	</ul>
</div>
				<div id="left-navigation">
					<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
	<h3 id="p-namespaces-label">Namespaces</h3>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="/w/index.php/BA_API_Tutorial"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="/w/index.php?title=Talk:BA_API_Tutorial&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>
<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
	<h3 id="mw-vector-current-variant">
		</h3>
	<h3 id="p-variants-label"><span>Variants</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
				</div>
				<div id="right-navigation">
					<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
	<h3 id="p-views-label">Views</h3>
	<ul>
					<li id="ca-view" class="selected"><span><a href="/w/index.php/BA_API_Tutorial" >Read</a></span></li>
					<li id="ca-viewsource"><span><a href="/w/index.php?title=BA_API_Tutorial&amp;action=edit"  title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="/w/index.php?title=BA_API_Tutorial&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>
<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
	<h3 id="p-cactions-label"><span>Actions</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
<div id="p-search" role="search">
	<h3><label for="searchInput">Search</label></h3>
	<form action="/w/index.php" id="searchform">
				<div id="simpleSearch">
						<input name="search" placeholder="Search" title="Search Battleplugins WIki [f]" accesskey="f" id="searchInput" />						<button type="submit" name="button" title="Search the pages for this text" id="searchButton"><img src="/w/skins/vector/images/search-ltr.png?303" alt="Search" width="12" height="13" /></button>								<input type='hidden' name="title" value="Special:Search"/>
		</div>
	</form>
</div>
				</div>
			</div>
			<div id="mw-panel">
					<div id="p-logo" role="banner"><a style="background-image: url(http://resources.battleplugins.com/wiki.png);" href="/w/index.php/Main_Page"  title="Visit the main page"></a></div>
				<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
	<h3 id='p-navigation-label'>Navigation</h3>
	<div class="body">
		<ul>
			<li id="n-mainpage-description"><a href="/w/index.php/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
			<li id="n-BattleArena-wiki"><a href="/w/index.php/BattleArena">BattleArena wiki</a></li>
			<li id="n-BattleTracker-wiki"><a href="/w/index.php/BattleTracker">BattleTracker wiki</a></li>
			<li id="n-portal"><a href="/w/index.php/Battleplugins_WIki:Community_portal" title="About the project, what you can do, where to find things">Community portal</a></li>
			<li id="n-currentevents"><a href="/w/index.php/Battleplugins_WIki:Current_events" title="Find background information on current events">Current events</a></li>
			<li id="n-recentchanges"><a href="/w/index.php/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-randompage"><a href="/w/index.php/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
			<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" rel="nofollow" title="The place to find out">Help</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
	<h3 id='p-tb-label'>Tools</h3>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="/w/index.php/Special:WhatLinksHere/BA_API_Tutorial" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="/w/index.php/Special:RecentChangesLinked/BA_API_Tutorial" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="/w/index.php/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li id="t-print"><a href="/w/index.php?title=BA_API_Tutorial&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
			<li id="t-permalink"><a href="/w/index.php?title=BA_API_Tutorial&amp;oldid=583" title="Permanent link to this revision of the page">Permanent link</a></li>
			<li id="t-info"><a href="/w/index.php?title=BA_API_Tutorial&amp;action=info">Page information</a></li>
		</ul>
	</div>
</div>
			</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 26 March 2014, at 03:09.</li>
											<li id="footer-info-viewcount">This page has been accessed 1,172 times.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="/w/index.php/Battleplugins_WIki:Privacy_policy" title="Battleplugins WIki:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="/w/index.php/Battleplugins_WIki:About" title="Battleplugins WIki:About">About Battleplugins WIki</a></li>
											<li id="footer-places-disclaimer"><a href="/w/index.php/Battleplugins_WIki:General_disclaimer" title="Battleplugins WIki:General disclaimer">Disclaimers</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-poweredbyico">
						<a href="//www.mediawiki.org/"><img src="/w/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.collapsibleNav"],null,true);
}</script>
<script>if(window.mw){
mw.loader.state({"site":"ready"});
}</script>
<!-- Served in 0.048 secs. -->
	</body>
</html>
